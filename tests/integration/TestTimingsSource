    1 REM TestTimings - by Richard Talbot-Watkins
    5 HIMEM=&4000
   10 FOR N%=0 TO 2 STEP 2:P%=&4400:[OPT N%
   20 SEI
   30 LDA #irq MOD 256:STA &204
   40 LDA #irq DIV 256:STA &205
   50 LDA &FE4E:STA &70
   60 LDA #&7F:STA &FE4E:STA &FE6E
   70 LDA #&C0:STA &FE6E
   80 LDA #0:STA &FE6B:STA &71
   90 CLI
  100 LDX #4:STX &FE64:LDY #0
  105 STY &FE65:LDA (0),Y:LDA #1:DEC &FE65:LDA &1001:INC &71
  110 STY &FE65:LDA (0,X):DEC &FE65:LDA &1002:INC &71
  120 STY &FE65:LDA (0),Y:DEC &FE65:LDA &1003:INC &71
  130 STY &FE65:LDA &1234:DEC &FE65:LDA &1004:INC &71
  140 STY &FE65:LDA &12:DEC &FE65:LDA &1005:INC &71
  150 STY &FE65:LDA #1:DEC &FE65:LDA &1006:INC &71
  160 STY &FE65:LDA (0,X):LDA &1234:LDA &FE64:LDA &1007:INC &71
  170 STY &FE65:LDA (0,X):LDA &12:LDA &FE64:LDA &1008:INC &71
  180 STY &FE65:LDA (0,X):LDA #1:LDA &FE64:LDA &1009:INC &71
  190 STY &FE65:LDA (0),Y:LDA #1:LDA &FE64:LDA &100A:INC &71
  191 STY &FE65:LDA (0,X):LDA &FE64:LDA &100B:INC &71
  192 STY &FE65:LDA (0),Y:LDA &1234:ROL &FE64:LDA &100C:STX &FE64:INC &71
  193 STY &FE65:LDA (0),Y:LDA &12:ROL &FE64:LDA &100D:STX &FE64:INC &71
  195 STY &FE65:LDA (0),Y:LDA #1:ROL &FE64:LDA &100E:STX &FE64:INC &71
  200 STY &FE65:LDA (0,X):ROL &FE64:LDA &100F:STX &FE64:INC &71
  210 STY &FE65:LDA (0),Y:ROL &FE64:LDA &1010:STX &FE64:INC &71
  220 STY &FE65:LDA &1234:ROL &FE64:LDA &1011:STX &FE64:INC &71
  230 STY &FE65:LDA &12:ROL &FE64:LDA &1012:STX &FE64:INC &71
  240 STY &FE65:LDA #1:ROL &FE64:LDA &1013:STX &FE64:INC &71
  241 STY &FE65:LDA (0,X):LDA (0),Y:LDA &1014:LDA &2014:INC &71
  242 STY &FE65:LDA (0,X):LDA &1234:LDA &1015:LDA &2015:INC &71
  243 STY &FE65:LDA (0,X):LDA &12:LDA &1016:LDA &2016:INC &71
  244 STY &FE65:LDA (0,X):LDA #1:LDA &1017:LDA &2017:INC &71
  245 STY &FE65:LDA (0),Y:LDA #1:LDA &1018:LDA &2018:INC &71
  246 STY &FE65:LDA (0,X):LDA &1019:LDA &2019:INC &71
  250 SEI
  260 LDA &70:STA &FE4E:LDA #&7F:STA &FE6E
  270 LDA #?&204:STA &204
  280 LDA #?&205:STA &205
  290 CLI:RTS
  300 .irq
  310 STX &72
  320 TSX:INX:INX:LDA &100,X:STA &73
  325 INX:LDA &100,X
  330 LDX &71:STA &4300,X
  335 LDA &73:STA &4000,X
  340 LDA &FE6D:STA &4100,X
  350 LDA &FE64:STA &4200,X
  360 LDX &72
  370 LDA &FC:RTI
  380 ]NEXT
  385 *FX 16,0
  390 FOR N%=0 TO &3FF STEP 4:N%!&4000=0:NEXT
  400 CALL &4400
  410 FOR N%=0 TO ?&71
  420 A%=(N%?&4300)*256+(N%?&4000)
  430 PRINT ;~A%;" (";~A%?0;" ";~A%?1;" ";~A%?2;") ";TAB(22);~N%?&4100;TAB(30);~N%?&4200
  440 NEXT
  
